(function(t){function e(e){for(var i,a,l=e[0],o=e[1],c=e[2],p=0,h=[];p<l.length;p++)a=l[p],r[a]&&h.push(r[a][0]),r[a]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,l=1;l<s.length;l++){var o=s[l];0!==r[o]&&(i=!1)}i&&(n.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},r={app:0},n=[];function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/btc_market/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},2856:function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("097d");var i=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"content"},[s("app-form")],1)])},n=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"form"},[s("h1",{staticClass:"title"},[t._v("Limit order")]),s("div",{staticClass:"block"},[s("span",{staticClass:"lead"},[t._v("USD: "+t._s(t.usd))]),s("span",{staticClass:"lead"},[t._v("BTC: "+t._s(t.btc))]),s("span",{staticClass:"lead"},[t._v("Last price: "+t._s(t.lastPrice))])]),s("div",{staticClass:"block"},[s("span",{staticClass:"text"},[t._v("Min amount: "+t._s(t.minAmount))]),s("span",{staticClass:"text"},[t._v("Commission fee: "+t._s(t.commissionFee)+"%")])]),s("hr",{staticClass:"hr"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],style:t.priceErrStyle,attrs:{type:"text"},domProps:{value:t.price},on:{input:[function(e){e.target.composing||(t.price=e.target.value)},t.onPriceChange]}}),s("p",{staticClass:"label"},[t._v(t._s(t.labels.price))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],style:t.amountErrStyle,attrs:{type:"text"},domProps:{value:t.amount},on:{input:[function(e){e.target.composing||(t.amount=e.target.value)},t.onAmountChange]}}),s("p",{staticClass:"label"},[t._v(t._s(t.labels.amount))]),s("hr",{staticClass:"hr"}),s("p",{staticClass:"text",class:{hidden:t.isDisabled}},[s("span",[t._v("Sum:")]),s("sup",[t._v(" USD")]),s("span",[t._v(t._s(t.price)+" * "+t._s(t.amount)+" =")]),s("sup",[t._v(" USD")]),s("span",[t._v(t._s(t.sum))])]),s("p",{staticClass:"text",class:{hidden:t.isDisabled}},[s("span",[t._v("Commission fee:")]),s("sup",[t._v(" USD")]),s("span",[t._v(t._s(t.fee))])]),s("p",{staticClass:"lead",class:{notAvailable:t.noBuy,hidden:t.isDisabled}},[s("span",[t._v("If you buy:")]),s("sup",[t._v(" USD")]),s("span",[t._v(t._s(t.afterBuyUsdWill))]),s("sup",[t._v(" BTC")]),s("span",[t._v(t._s(t.afterBuyBtcWill))])]),s("p",{staticClass:"lead",class:{notAvailable:t.noSell,hidden:t.isDisabled}},[s("span",[t._v("If you sell:")]),s("sup",[t._v(" USD")]),s("span",[t._v(t._s(t.afterSellUsdWill))]),s("sup",[t._v(" BTC")]),s("span",[t._v(t._s(t.afterSellBtcWill))])]),s("hr",{staticClass:"hr"}),s("button",{staticClass:"btn",style:t.buyWarningStyle,attrs:{disabled:t.isDisabled||t.noBuy},on:{click:t.onBuyClick}},[t._v("Buy")]),s("button",{staticClass:"btn",style:t.sellWarningStyle,attrs:{disabled:t.isDisabled||t.noSell},on:{click:t.onSellClick}},[t._v("Sell")]),s("h1",{staticClass:"title"},[t._v("My orders")]),s("table",t._l(t.reverseHistory,function(e){return s("tr",{staticClass:"lead"},[s("td",[s("span",[t._v(t._s(e.date.toLocaleString()))])]),s("td",[s("sup",[t._v(" USD")]),s("span",[t._v(t._s(e.usd))])]),s("td",[s("sup",[t._v(" BTC")]),s("span",[t._v(t._s(e.btc))])]),s("td",[s("span",[t._v(t._s(e.type))])]),s("td",[s("sup",[t._v(" price")]),s("span",[t._v(t._s(e.price))])]),s("td",[s("sup",[t._v(" amount")]),s("span",[t._v(t._s(e.amount))])])])}))])},l=[],o="Price (USD)",c="Amount (BTC)",u={data:function(){return{usd:1e5,btc:200,lastPrice:6565.9,price:6565.95,amount:100,minAmount:.001,labels:{price:o,amount:c},errors:{price:!1,amount:!1},commissionFee:.15,commissionTotal:0,history:[]}},computed:{valid:function(){return!this.errors.price&&!this.errors.amount},isDisabled:function(){return!this.valid},priceErrStyle:function(){return this.errors.price?{color:"red"}:{}},amountErrStyle:function(){return this.errors.amount?{color:"red"}:{}},buyWarningStyle:function(){return this.price>this.lastPrice?{"background-color":"red"}:{"background-color":"#335185"}},sellWarningStyle:function(){return this.price<this.lastPrice?{"background-color":"red"}:{"background-color":"#335185"}},newPriceMinimal:function(){return h(6,this.lastPrice-this.lastPrice/10)},newPriceMaximal:function(){return h(6,this.lastPrice+this.lastPrice/10)},sum:function(){var t=+this.price,e=+this.amount;return h(6,t*e)},fee:function(){return h(6,this.sum/100*.15)},afterBuyUsdWill:function(){var t=+this.usd;return h(6,t-this.sum-this.fee)},afterBuyBtcWill:function(){var t=+this.btc,e=+this.amount;return h(6,t+e)},afterSellUsdWill:function(){var t=+this.usd;return h(6,t+this.sum-this.fee)},afterSellBtcWill:function(){var t=+this.btc,e=+this.amount;return t-e},noBuy:function(){return this.afterBuyUsdWill<0},noSell:function(){return this.afterSellBtcWill<0},reverseHistory:function(){return this.history.slice().reverse()}},methods:{onPriceChange:function(){var t=0;p(this.price)||(this.labels.price="Price must be a float number",t++);var e=+this.price;e>this.newPriceMaximal&&(this.labels.price="The maximum price - ".concat(this.newPriceMaximal," (+10% from last price ").concat(this.lastPrice,")"),t++),e<this.newPriceMinimal&&(this.labels.price="The minimum price - ".concat(this.newPriceMinimal," (-10% from last price ").concat(this.lastPrice,")"),t++),0===t?(this.labels.price=o,this.errors.price=!1):this.errors.price=!0},onAmountChange:function(){var t=0;p(this.amount)||(this.labels.amount="Amount must be a float number",t++),+this.amount<this.minAmount&&(this.labels.amount="Amount must be greater than ".concat(this.minAmount),t++),0===t?(this.labels.amount=c,this.errors.amount=!1):this.errors.amount=!0},onBuyClick:function(t){t.preventDefault(),this.history.push({date:new Date,type:"BUY",price:this.price,amount:this.amount,usd:this.afterBuyUsdWill,btc:this.afterBuyBtcWill}),this.lastPrice=this.price,this.usd=this.afterBuyUsdWill,this.btc=this.afterBuyBtcWill,t.target.blur()},onSellClick:function(t){t.preventDefault(),this.history.push({date:new Date,type:"SELL",price:this.price,amount:this.amount,usd:this.afterSellUsdWill,btc:this.afterSellBtcWill}),this.lastPrice=this.price,this.usd=this.afterSellUsdWill,this.btc=this.afterSellBtcWill,t.target.blur()}}};function p(t){var e=/^\d+(\.\d+)?$/;return e.test(t)&&("0"!==t[0]||"0"!==t[1]&&+t>0&&+t<1)}function h(t,e){var s=Math.pow(10,t);return Math.round(e*s)/s}var f=u,d=(s("5fc9"),s("2877")),m=Object(d["a"])(f,a,l,!1,null,"c75aacac",null);m.options.__file="AppForm.vue";var v=m.exports,b={name:"app",components:{AppForm:v}},_=b,y=(s("5c0b"),Object(d["a"])(_,r,n,!1,null,null,null));y.options.__file="App.vue";var S=y.exports,C=s("2f62");i["a"].use(C["a"]);var g=new C["a"].Store({state:{},mutations:{},actions:{}});i["a"].config.productionTip=!1,new i["a"]({store:g,render:function(t){return t(S)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var i=s("2856"),r=s.n(i);r.a},"5fc9":function(t,e,s){"use strict";var i=s("c5d6"),r=s.n(i);r.a},c5d6:function(t,e,s){}});
//# sourceMappingURL=app.b6bfc3d3.js.map